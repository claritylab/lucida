\section{src/libpocketsphinx/ps\-\_\-lattice.c File Reference}
\label{ps__lattice_8c}\index{src/libpocketsphinx/ps\-\_\-lattice.\-c@{src/libpocketsphinx/ps\-\_\-lattice.\-c}}


Word graph search.  


{\ttfamily \#include $<$assert.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$math.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/ckd\-\_\-alloc.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/listelem\-\_\-alloc.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/strfuncs.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/err.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/pio.\-h$>$}\\*
{\ttfamily \#include \char`\"{}pocketsphinx\-\_\-internal.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ps\-\_\-lattice\-\_\-internal.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ngram\-\_\-search.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dict.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries M\-A\-X\-\_\-\-P\-A\-T\-H\-S}~500     /$\ast$ Max allowed active paths at any time $\ast$/\label{ps__lattice_8c_a9c568a0d36c2d1416f593928a24d93f2}

\item 
\#define {\bfseries M\-A\-X\-\_\-\-H\-Y\-P\-\_\-\-T\-R\-I\-E\-S}~10000\label{ps__lattice_8c_a42679d6e9a4ea05961867c999a22772b}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf ps\-\_\-lattice\-\_\-link} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$from, {\bf ps\-\_\-latnode\-\_\-t} $\ast$to, int32 score, int32 ef)\label{ps__lattice_8c_a4dd3235b91f1c7202127893203c6d2a0}

\begin{DoxyCompactList}\small\item\em Create a directed link between \char`\"{}from\char`\"{} and \char`\"{}to\char`\"{} nodes, but if a link already exists, choose one with the best link\-\_\-scr. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-lattice\-\_\-bypass\-\_\-fillers} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, int32 silpen, int32 fillpen)\label{ps__lattice_8c_a9b40adaa059978fe33959d59da1b6919}

\begin{DoxyCompactList}\small\item\em Bypass filler words. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-lattice\-\_\-delete\-\_\-unreachable} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)\label{ps__lattice_8c_a6da4e36322aaab4d2ebe812bee9a4439}

\begin{DoxyCompactList}\small\item\em Remove nodes marked as unreachable. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-lattice\-\_\-write} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, char const $\ast$filename)
\begin{DoxyCompactList}\small\item\em Write a lattice to disk. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-lattice\-\_\-write\-\_\-htk} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, char const $\ast$filename)
\begin{DoxyCompactList}\small\item\em Write a lattice to disk in H\-T\-K format. \end{DoxyCompactList}\item 
{\bf ps\-\_\-lattice\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-read} ({\bf ps\-\_\-decoder\-\_\-t} $\ast$ps, char const $\ast$file)
\begin{DoxyCompactList}\small\item\em Read a lattice from a file on disk. \end{DoxyCompactList}\item 
int {\bf ps\-\_\-lattice\-\_\-n\-\_\-frames} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)
\begin{DoxyCompactList}\small\item\em Get the number of frames in the lattice. \end{DoxyCompactList}\item 
{\bf ps\-\_\-lattice\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-init\-\_\-search} ({\bf ps\-\_\-search\-\_\-t} $\ast$search, int n\-\_\-frame)\label{ps__lattice_8c_a606f6ee0fd569dd5829d7f84ae7e61bd}

\begin{DoxyCompactList}\small\item\em Construct an empty word graph with reference to a search structure. \end{DoxyCompactList}\item 
{\bf ps\-\_\-lattice\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-retain} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)
\begin{DoxyCompactList}\small\item\em Retain a lattice. \end{DoxyCompactList}\item 
int {\bf ps\-\_\-lattice\-\_\-free} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)
\begin{DoxyCompactList}\small\item\em Free a lattice. \end{DoxyCompactList}\item 
logmath\-\_\-t $\ast$ {\bf ps\-\_\-lattice\-\_\-get\-\_\-logmath} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)
\begin{DoxyCompactList}\small\item\em Get the log-\/math computation object for this lattice. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$ {\bf ps\-\_\-latnode\-\_\-iter} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)
\begin{DoxyCompactList}\small\item\em Start iterating over nodes in the lattice. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$ {\bf ps\-\_\-latnode\-\_\-iter\-\_\-next} ({\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$itor)
\begin{DoxyCompactList}\small\item\em Move to next node in iteration. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-latnode\-\_\-iter\-\_\-free} ({\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$itor)
\begin{DoxyCompactList}\small\item\em Stop iterating over nodes. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latnode\-\_\-t} $\ast$ {\bf ps\-\_\-latnode\-\_\-iter\-\_\-node} ({\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$itor)\label{ps__lattice_8c_a990f488a747f95bc94777a755401710d}

\begin{DoxyCompactList}\small\item\em Get node from iterator. \end{DoxyCompactList}\item 
int {\bf ps\-\_\-latnode\-\_\-times} ({\bf ps\-\_\-latnode\-\_\-t} $\ast$node, int16 $\ast$out\-\_\-fef, int16 $\ast$out\-\_\-lef)
\begin{DoxyCompactList}\small\item\em Get start and end time range for a node. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-latnode\-\_\-word} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$node)
\begin{DoxyCompactList}\small\item\em Get word string for this node. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-latnode\-\_\-baseword} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$node)
\begin{DoxyCompactList}\small\item\em Get base word string for this node. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-latnode\-\_\-prob} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$node, {\bf ps\-\_\-latlink\-\_\-t} $\ast$$\ast$out\-\_\-link)
\begin{DoxyCompactList}\small\item\em Get best posterior probability and associated acoustic score from a lattice node. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$ {\bf ps\-\_\-latnode\-\_\-exits} ({\bf ps\-\_\-latnode\-\_\-t} $\ast$node)
\begin{DoxyCompactList}\small\item\em Iterate over exits from this node. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$ {\bf ps\-\_\-latnode\-\_\-entries} ({\bf ps\-\_\-latnode\-\_\-t} $\ast$node)
\begin{DoxyCompactList}\small\item\em Iterate over entries to this node. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$ {\bf ps\-\_\-latlink\-\_\-iter\-\_\-next} ({\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$itor)
\begin{DoxyCompactList}\small\item\em Get next link from a lattice link iterator. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-latlink\-\_\-iter\-\_\-free} ({\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$itor)
\begin{DoxyCompactList}\small\item\em Stop iterating over links. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-latlink\-\_\-iter\-\_\-link} ({\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$itor)\label{ps__lattice_8c_a33a6c95621d4c8980a8c6b0f8af3bc67}

\begin{DoxyCompactList}\small\item\em Get link from iterator. \end{DoxyCompactList}\item 
int {\bf ps\-\_\-latlink\-\_\-times} ({\bf ps\-\_\-latlink\-\_\-t} $\ast$link, int16 $\ast$out\-\_\-sf)
\begin{DoxyCompactList}\small\item\em Get start and end times from a lattice link. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latnode\-\_\-t} $\ast$ {\bf ps\-\_\-latlink\-\_\-nodes} ({\bf ps\-\_\-latlink\-\_\-t} $\ast$link, {\bf ps\-\_\-latnode\-\_\-t} $\ast$$\ast$out\-\_\-src)
\begin{DoxyCompactList}\small\item\em Get destination and source nodes from a lattice link. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-latlink\-\_\-word} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link)
\begin{DoxyCompactList}\small\item\em Get word string from a lattice link. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-latlink\-\_\-baseword} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link)
\begin{DoxyCompactList}\small\item\em Get base word string from a lattice link. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-latlink\-\_\-pred} ({\bf ps\-\_\-latlink\-\_\-t} $\ast$link)
\begin{DoxyCompactList}\small\item\em Get predecessor link in best path. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-latlink\-\_\-prob} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link, int32 $\ast$out\-\_\-ascr)
\begin{DoxyCompactList}\small\item\em Get acoustic score and posterior probability from a lattice link. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-lattice\-\_\-hyp} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link)\label{ps__lattice_8c_a02b07c009d23b852bd4db54700dfac5b}

\begin{DoxyCompactList}\small\item\em Get hypothesis string after bestpath search. \end{DoxyCompactList}\item 
{\bf ps\-\_\-seg\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-seg\-\_\-iter} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link, float32 lwf)\label{ps__lattice_8c_afedbc5558c18f7d029e84a4e27e38187}

\begin{DoxyCompactList}\small\item\em Get hypothesis segmentation iterator after bestpath search. \end{DoxyCompactList}\item 
{\bf latlink\-\_\-list\-\_\-t} $\ast$ {\bf latlink\-\_\-list\-\_\-new} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link, {\bf latlink\-\_\-list\-\_\-t} $\ast$next)\label{ps__lattice_8c_a7197508af770064ea825bb812dd6eddc}

\begin{DoxyCompactList}\small\item\em Create a new lattice link element. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-lattice\-\_\-pushq} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latlink\-\_\-t} $\ast$link)\label{ps__lattice_8c_a04896ebe0e2592bc7950d413b5d5c52e}

\begin{DoxyCompactList}\small\item\em Add an edge to the traversal queue. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-popq} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)\label{ps__lattice_8c_a481c4d941368597e11b0af4709bd03b0}

\begin{DoxyCompactList}\small\item\em Remove an edge from the traversal queue. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-lattice\-\_\-delq} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag)\label{ps__lattice_8c_ad128ca75e8bc7ca4ba41094fb5b68ee9}

\begin{DoxyCompactList}\small\item\em Clear and reset the traversal queue. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-traverse\-\_\-edges} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$start, {\bf ps\-\_\-latnode\-\_\-t} $\ast$end)
\begin{DoxyCompactList}\small\item\em Start a forward traversal of edges in a word graph. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-traverse\-\_\-next} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$end)
\begin{DoxyCompactList}\small\item\em Get the next link in forward traversal. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-reverse\-\_\-edges} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$start, {\bf ps\-\_\-latnode\-\_\-t} $\ast$end)
\begin{DoxyCompactList}\small\item\em Start a reverse traversal of edges in a word graph. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-reverse\-\_\-next} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, {\bf ps\-\_\-latnode\-\_\-t} $\ast$start)
\begin{DoxyCompactList}\small\item\em Get the next link in reverse traversal. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latlink\-\_\-t} $\ast$ {\bf ps\-\_\-lattice\-\_\-bestpath} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, ngram\-\_\-model\-\_\-t $\ast$lmset, float32 lwf, float32 ascale)
\begin{DoxyCompactList}\small\item\em Do N-\/\-Gram based best-\/path search on a word graph. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-lattice\-\_\-posterior} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, ngram\-\_\-model\-\_\-t $\ast$lmset, float32 ascale)
\begin{DoxyCompactList}\small\item\em Calculate link posterior probabilities on a word graph. \end{DoxyCompactList}\item 
int32 {\bf ps\-\_\-lattice\-\_\-posterior\-\_\-prune} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, int32 beam)
\begin{DoxyCompactList}\small\item\em Prune all links (and associated nodes) below a certain posterior probability. \end{DoxyCompactList}\item 
{\bf ps\-\_\-astar\-\_\-t} $\ast$ {\bf ps\-\_\-astar\-\_\-start} ({\bf ps\-\_\-lattice\-\_\-t} $\ast$dag, ngram\-\_\-model\-\_\-t $\ast$lmset, float32 lwf, int sf, int ef, int w1, int w2)
\begin{DoxyCompactList}\small\item\em Begin N-\/\-Gram based A$\ast$ search on a word graph. \end{DoxyCompactList}\item 
{\bf ps\-\_\-latpath\-\_\-t} $\ast$ {\bf ps\-\_\-astar\-\_\-next} ({\bf ps\-\_\-astar\-\_\-t} $\ast$nbest)
\begin{DoxyCompactList}\small\item\em Find next best hypothesis of A$\ast$ on a word graph. \end{DoxyCompactList}\item 
char const $\ast$ {\bf ps\-\_\-astar\-\_\-hyp} ({\bf ps\-\_\-astar\-\_\-t} $\ast$nbest, {\bf ps\-\_\-latpath\-\_\-t} $\ast$path)\label{ps__lattice_8c_ac7372b5c5ec111f6814ce1ba495593e4}

\begin{DoxyCompactList}\small\item\em Get hypothesis string from A$\ast$ search. \end{DoxyCompactList}\item 
{\bf ps\-\_\-seg\-\_\-t} $\ast$ {\bf ps\-\_\-astar\-\_\-seg\-\_\-iter} ({\bf ps\-\_\-astar\-\_\-t} $\ast$astar, {\bf ps\-\_\-latpath\-\_\-t} $\ast$path, float32 lwf)\label{ps__lattice_8c_ac8e3dff7276c03c93377d0cb79fbdbd7}

\begin{DoxyCompactList}\small\item\em Get hypothesis segmentation from A$\ast$ search. \end{DoxyCompactList}\item 
void {\bf ps\-\_\-astar\-\_\-finish} ({\bf ps\-\_\-astar\-\_\-t} $\ast$nbest)\label{ps__lattice_8c_abfb03e9e0fcbe3def45120f5ba43be14}

\begin{DoxyCompactList}\small\item\em Finish N-\/best search, releasing resources associated with it. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Word graph search. 

Definition in file {\bf ps\-\_\-lattice.\-c}.



\subsection{Function Documentation}
\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-astar\-\_\-next@{ps\-\_\-astar\-\_\-next}}
\index{ps\-\_\-astar\-\_\-next@{ps\-\_\-astar\-\_\-next}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-astar\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latpath\-\_\-t}$\ast$ ps\-\_\-astar\-\_\-next (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-astar\-\_\-t} $\ast$}]{nbest}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a6bea95f8fb827af790bbe6ce1920908c}


Find next best hypothesis of A$\ast$ on a word graph. 

\begin{DoxyReturn}{Returns}
a complete path, or N\-U\-L\-L if no more hypotheses exist. 
\end{DoxyReturn}


Definition at line 1724 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::fef, ps\-\_\-latpath\-\_\-s\-::next, ps\-\_\-latpath\-\_\-s\-::node, and ps\-\_\-latnode\-\_\-s\-::sf.



Referenced by ps\-\_\-nbest\-\_\-next().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-astar\-\_\-start@{ps\-\_\-astar\-\_\-start}}
\index{ps\-\_\-astar\-\_\-start@{ps\-\_\-astar\-\_\-start}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-astar\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-astar\-\_\-t}$\ast$ ps\-\_\-astar\-\_\-start (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{ngram\-\_\-model\-\_\-t $\ast$}]{lmset, }
\item[{float32}]{lwf, }
\item[{int}]{sf, }
\item[{int}]{ef, }
\item[{int}]{w1, }
\item[{int}]{w2}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_aaf9aedd3cd8bd1d45053e10828215a25}


Begin N-\/\-Gram based A$\ast$ search on a word graph. 


\begin{DoxyParams}{Parameters}
{\em sf} & Starting frame for N-\/best search. \\
\hline
{\em ef} & Ending frame for N-\/best search, or -\/1 for last frame. \\
\hline
{\em w1} & First context word, or -\/1 for none. \\
\hline
{\em w2} & Second context word, or -\/1 for none. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for success, $<$0 on error. 
\end{DoxyReturn}


Definition at line 1665 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::basewid, ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-astar\-\_\-s\-::latpath\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::n\-\_\-frames, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-latpath\-\_\-s\-::node, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-latpath\-\_\-s\-::parent, ps\-\_\-latnode\-\_\-s\-::rem\-\_\-score, ps\-\_\-latpath\-\_\-s\-::score, S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T, ps\-\_\-latnode\-\_\-s\-::sf, and W\-O\-R\-S\-T\-\_\-\-S\-C\-O\-R\-E.



Referenced by ps\-\_\-nbest().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-baseword@{ps\-\_\-latlink\-\_\-baseword}}
\index{ps\-\_\-latlink\-\_\-baseword@{ps\-\_\-latlink\-\_\-baseword}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-baseword}]{\setlength{\rightskip}{0pt plus 5cm}char const$\ast$ ps\-\_\-latlink\-\_\-baseword (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a1f8f4dba5bbcf9056c5bd3e97e39839d}


Get base word string from a lattice link. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em link} & Link inquired about \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Base word string for this link 
\end{DoxyReturn}


Definition at line 831 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::basewid, ps\-\_\-lattice\-\_\-s\-::dict, and ps\-\_\-latlink\-\_\-s\-::from.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-iter\-\_\-free@{ps\-\_\-latlink\-\_\-iter\-\_\-free}}
\index{ps\-\_\-latlink\-\_\-iter\-\_\-free@{ps\-\_\-latlink\-\_\-iter\-\_\-free}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-iter\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}void ps\-\_\-latlink\-\_\-iter\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$}]{itor}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_aab5953eafb2e632307259a7fc40c01e3}


Stop iterating over links. 


\begin{DoxyParams}{Parameters}
{\em itor} & Link iterator. \\
\hline
\end{DoxyParams}


Definition at line 790 of file ps\-\_\-lattice.\-c.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-iter\-\_\-next@{ps\-\_\-latlink\-\_\-iter\-\_\-next}}
\index{ps\-\_\-latlink\-\_\-iter\-\_\-next@{ps\-\_\-latlink\-\_\-iter\-\_\-next}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-iter\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t}$\ast$ ps\-\_\-latlink\-\_\-iter\-\_\-next (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t} $\ast$}]{itor}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a6caee73548f9a6c17626e959256d721c}


Get next link from a lattice link iterator. 


\begin{DoxyParams}{Parameters}
{\em itor} & Iterator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Updated iterator, or N\-U\-L\-L if finished. 
\end{DoxyReturn}


Definition at line 784 of file ps\-\_\-lattice.\-c.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-nodes@{ps\-\_\-latlink\-\_\-nodes}}
\index{ps\-\_\-latlink\-\_\-nodes@{ps\-\_\-latlink\-\_\-nodes}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-nodes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latnode\-\_\-t}$\ast$ ps\-\_\-latlink\-\_\-nodes (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$$\ast$}]{out\-\_\-src}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a891d9c5aa6a5cbe8631812fbd6e87e25}


Get destination and source nodes from a lattice link. 


\begin{DoxyParams}{Parameters}
{\em link} & Link inquired about \\
\hline
{\em out\-\_\-src} & Output\-: (optional) source node. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
destination node 
\end{DoxyReturn}


Definition at line 816 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::from, and ps\-\_\-latlink\-\_\-s\-::to.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-pred@{ps\-\_\-latlink\-\_\-pred}}
\index{ps\-\_\-latlink\-\_\-pred@{ps\-\_\-latlink\-\_\-pred}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-latlink\-\_\-pred (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a6ea04952718752806ad92773c98ac33d}


Get predecessor link in best path. 


\begin{DoxyParams}{Parameters}
{\em link} & Link inquired about \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Best previous link from bestpath search, if any. Otherwise N\-U\-L\-L 
\end{DoxyReturn}


Definition at line 839 of file ps\-\_\-lattice.\-c.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-prob@{ps\-\_\-latlink\-\_\-prob}}
\index{ps\-\_\-latlink\-\_\-prob@{ps\-\_\-latlink\-\_\-prob}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-prob}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-latlink\-\_\-prob (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link, }
\item[{int32 $\ast$}]{out\-\_\-ascr}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a7025b47d1224f01fef725ffdae71becc}


Get acoustic score and posterior probability from a lattice link. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em link} & Link inquired about \\
\hline
{\em out\-\_\-ascr} & Output\-: (optional) acoustic score. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Posterior probability for this link. Log is expressed in the log-\/base used in the decoder. To convert to linear floating-\/point, use logmath\-\_\-exp(ps\-\_\-lattice\-\_\-get\-\_\-logmath(), pprob). 
\end{DoxyReturn}


Definition at line 845 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::alpha, ps\-\_\-latlink\-\_\-s\-::ascr, ps\-\_\-latlink\-\_\-s\-::beta, ps\-\_\-lattice\-\_\-s\-::norm, and S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-times@{ps\-\_\-latlink\-\_\-times}}
\index{ps\-\_\-latlink\-\_\-times@{ps\-\_\-latlink\-\_\-times}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-times}]{\setlength{\rightskip}{0pt plus 5cm}int ps\-\_\-latlink\-\_\-times (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link, }
\item[{int16 $\ast$}]{out\-\_\-sf}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_afc4403b067467f3c74c97998f1c91886}


Get start and end times from a lattice link. 

\begin{DoxyNote}{Note}
these are {\bfseries inclusive} -\/ i.\-e. the last frame of this word is ef, not ef-\/1.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em link} & Link inquired about. \\
\hline
{\em out\-\_\-sf} & Output\-: (optional) start frame of this link. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
End frame of this link. 
\end{DoxyReturn}


Definition at line 802 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::ef, ps\-\_\-latlink\-\_\-s\-::from, and ps\-\_\-latnode\-\_\-s\-::sf.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latlink\-\_\-word@{ps\-\_\-latlink\-\_\-word}}
\index{ps\-\_\-latlink\-\_\-word@{ps\-\_\-latlink\-\_\-word}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latlink\-\_\-word}]{\setlength{\rightskip}{0pt plus 5cm}char const$\ast$ ps\-\_\-latlink\-\_\-word (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$}]{link}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a3c765dfc290549e8f27e619269d20e5a}


Get word string from a lattice link. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em link} & Link inquired about \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Word string for this link (possibly a pronunciation variant). 
\end{DoxyReturn}


Definition at line 823 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::dict, ps\-\_\-latlink\-\_\-s\-::from, and ps\-\_\-latnode\-\_\-s\-::wid.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-baseword@{ps\-\_\-latnode\-\_\-baseword}}
\index{ps\-\_\-latnode\-\_\-baseword@{ps\-\_\-latnode\-\_\-baseword}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-baseword}]{\setlength{\rightskip}{0pt plus 5cm}char const$\ast$ ps\-\_\-latnode\-\_\-baseword (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a42212e56eb6e881a0ceb1b8ad029427a}


Get base word string for this node. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em node} & Node inquired about. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Base word string for this node. 
\end{DoxyReturn}


Definition at line 749 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::basewid, and ps\-\_\-lattice\-\_\-s\-::dict.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-entries@{ps\-\_\-latnode\-\_\-entries}}
\index{ps\-\_\-latnode\-\_\-entries@{ps\-\_\-latnode\-\_\-entries}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-entries}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t}$\ast$ ps\-\_\-latnode\-\_\-entries (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a36f3fa1635d251b908c553153f614e22}


Iterate over entries to this node. 


\begin{DoxyParams}{Parameters}
{\em node} & Node inquired about. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Iterator over entry links to this node. 
\end{DoxyReturn}


Definition at line 778 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::entries.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-exits@{ps\-\_\-latnode\-\_\-exits}}
\index{ps\-\_\-latnode\-\_\-exits@{ps\-\_\-latnode\-\_\-exits}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-exits}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-iter\-\_\-t}$\ast$ ps\-\_\-latnode\-\_\-exits (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a6169f8a8d8b7f84596438e5bb3095bc6}


Iterate over exits from this node. 


\begin{DoxyParams}{Parameters}
{\em node} & Node inquired about. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Iterator over exit links from this node. 
\end{DoxyReturn}


Definition at line 772 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::exits.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-iter@{ps\-\_\-latnode\-\_\-iter}}
\index{ps\-\_\-latnode\-\_\-iter@{ps\-\_\-latnode\-\_\-iter}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-iter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t}$\ast$ ps\-\_\-latnode\-\_\-iter (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a607bfd65847baff33f404936c1543d16}


Start iterating over nodes in the lattice. 

\begin{DoxyNote}{Note}
No particular order of traversal is guaranteed, and you should not depend on this.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to iterate over. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Iterator over lattice nodes. 
\end{DoxyReturn}


Definition at line 711 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::nodes.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-iter\-\_\-free@{ps\-\_\-latnode\-\_\-iter\-\_\-free}}
\index{ps\-\_\-latnode\-\_\-iter\-\_\-free@{ps\-\_\-latnode\-\_\-iter\-\_\-free}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-iter\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}void ps\-\_\-latnode\-\_\-iter\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$}]{itor}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_ae1d64649785989033826329b9fcce309}


Stop iterating over nodes. 


\begin{DoxyParams}{Parameters}
{\em itor} & Node iterator. \\
\hline
\end{DoxyParams}


Definition at line 723 of file ps\-\_\-lattice.\-c.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-iter\-\_\-next@{ps\-\_\-latnode\-\_\-iter\-\_\-next}}
\index{ps\-\_\-latnode\-\_\-iter\-\_\-next@{ps\-\_\-latnode\-\_\-iter\-\_\-next}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-iter\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t}$\ast$ ps\-\_\-latnode\-\_\-iter\-\_\-next (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latnode\-\_\-iter\-\_\-t} $\ast$}]{itor}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a77c4bbb13e260c72ed04ad93b02fdf0e}


Move to next node in iteration. 


\begin{DoxyParams}{Parameters}
{\em itor} & Node iterator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Updated node iterator, or N\-U\-L\-L if finished 
\end{DoxyReturn}


Definition at line 717 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::next.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-prob@{ps\-\_\-latnode\-\_\-prob}}
\index{ps\-\_\-latnode\-\_\-prob@{ps\-\_\-latnode\-\_\-prob}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-prob}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-latnode\-\_\-prob (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node, }
\item[{{\bf ps\-\_\-latlink\-\_\-t} $\ast$$\ast$}]{out\-\_\-link}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_ad9c31352fa8e6286b1221221208075e9}


Get best posterior probability and associated acoustic score from a lattice node. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em node} & Node inquired about. \\
\hline
{\em out\-\_\-link} & Output\-: exit link with highest posterior probability \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Posterior probability of the best link exiting this node. Log is expressed in the log-\/base used in the decoder. To convert to linear floating-\/point, use logmath\-\_\-exp(ps\-\_\-lattice\-\_\-get\-\_\-logmath(), pprob). 
\end{DoxyReturn}


Definition at line 755 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::alpha, ps\-\_\-latlink\-\_\-s\-::beta, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-lattice\-\_\-s\-::lmath, and ps\-\_\-lattice\-\_\-s\-::norm.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-times@{ps\-\_\-latnode\-\_\-times}}
\index{ps\-\_\-latnode\-\_\-times@{ps\-\_\-latnode\-\_\-times}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-times}]{\setlength{\rightskip}{0pt plus 5cm}int ps\-\_\-latnode\-\_\-times (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node, }
\item[{int16 $\ast$}]{out\-\_\-fef, }
\item[{int16 $\ast$}]{out\-\_\-lef}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a89b67432447f693f787ec14460cfa2a4}


Get start and end time range for a node. 


\begin{DoxyParams}{Parameters}
{\em node} & Node inquired about. \\
\hline
{\em out\-\_\-fef} & Output\-: End frame of first exit from this node. \\
\hline
{\em out\-\_\-lef} & Output\-: End frame of last exit from this node. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Start frame for all edges exiting this node. 
\end{DoxyReturn}


Definition at line 735 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::fef, ps\-\_\-latnode\-\_\-s\-::lef, and ps\-\_\-latnode\-\_\-s\-::sf.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-latnode\-\_\-word@{ps\-\_\-latnode\-\_\-word}}
\index{ps\-\_\-latnode\-\_\-word@{ps\-\_\-latnode\-\_\-word}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-latnode\-\_\-word}]{\setlength{\rightskip}{0pt plus 5cm}char const$\ast$ ps\-\_\-latnode\-\_\-word (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a5827c1004a64e7e6c5208928c28d403d}


Get word string for this node. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to which node belongs. \\
\hline
{\em node} & Node inquired about. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Word string for this node (possibly a pronunciation variant). 
\end{DoxyReturn}


Definition at line 743 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::dict, and ps\-\_\-latnode\-\_\-s\-::wid.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-bestpath@{ps\-\_\-lattice\-\_\-bestpath}}
\index{ps\-\_\-lattice\-\_\-bestpath@{ps\-\_\-lattice\-\_\-bestpath}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-bestpath}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-bestpath (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{ngram\-\_\-model\-\_\-t $\ast$}]{lmset, }
\item[{float32}]{lwf, }
\item[{float32}]{ascale}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a0cc8e4824f4f23ecbf511b0bb096a3ea}


Do N-\/\-Gram based best-\/path search on a word graph. 

This function calculates both the best path as well as the forward probability used in confidence estimation.

\begin{DoxyReturn}{Returns}
Final link in best path, N\-U\-L\-L on error. 
\end{DoxyReturn}


Definition at line 1238 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::alpha, ps\-\_\-latlink\-\_\-s\-::ascr, ps\-\_\-latnode\-\_\-s\-::basewid, B\-E\-T\-T\-E\-R\-\_\-\-T\-H\-A\-N, ps\-\_\-search\-\_\-s\-::dict, dict\-\_\-filler\-\_\-word(), ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::entries, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-lattice\-\_\-s\-::final\-\_\-node\-\_\-ascr, ps\-\_\-latlink\-\_\-s\-::from, ps\-\_\-latnode\-\_\-s\-::lef, ps\-\_\-lattice\-\_\-s\-::lmath, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-s\-::norm, ps\-\_\-latlink\-\_\-s\-::path\-\_\-scr, ps\-\_\-lattice\-\_\-traverse\-\_\-edges(), ps\-\_\-lattice\-\_\-traverse\-\_\-next(), ps\-\_\-lattice\-\_\-s\-::search, S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T, ps\-\_\-latnode\-\_\-s\-::sf, ps\-\_\-lattice\-\_\-s\-::start, ps\-\_\-latlink\-\_\-s\-::to, and ps\-\_\-latnode\-\_\-s\-::wid.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-free@{ps\-\_\-lattice\-\_\-free}}
\index{ps\-\_\-lattice\-\_\-free@{ps\-\_\-lattice\-\_\-free}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}int ps\-\_\-lattice\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_aed9371a246b6565a2142c3baefd08002}


Free a lattice. 

\begin{DoxyReturn}{Returns}
new reference count (0 if dag was freed) 
\end{DoxyReturn}


Definition at line 688 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::dict, dict\-\_\-free(), ps\-\_\-lattice\-\_\-s\-::hyp\-\_\-str, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-list\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::latnode\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::lmath, and ps\-\_\-lattice\-\_\-s\-::refcount.



Referenced by ngram\-\_\-search\-\_\-lattice(), ps\-\_\-search\-\_\-deinit(), and ps\-\_\-start\-\_\-utt().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-get\-\_\-logmath@{ps\-\_\-lattice\-\_\-get\-\_\-logmath}}
\index{ps\-\_\-lattice\-\_\-get\-\_\-logmath@{ps\-\_\-lattice\-\_\-get\-\_\-logmath}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-get\-\_\-logmath}]{\setlength{\rightskip}{0pt plus 5cm}logmath\-\_\-t$\ast$ ps\-\_\-lattice\-\_\-get\-\_\-logmath (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a4a952a1cb88b833989fb39476da5fe1b}


Get the log-\/math computation object for this lattice. 

\begin{DoxyReturn}{Returns}
The log-\/math object for this lattice. The lattice retains ownership of this pointer, so you should not attempt to free it manually. Use logmath\-\_\-retain() if you wish to reuse it elsewhere. 
\end{DoxyReturn}


Definition at line 705 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::lmath.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-n\-\_\-frames@{ps\-\_\-lattice\-\_\-n\-\_\-frames}}
\index{ps\-\_\-lattice\-\_\-n\-\_\-frames@{ps\-\_\-lattice\-\_\-n\-\_\-frames}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-n\-\_\-frames}]{\setlength{\rightskip}{0pt plus 5cm}int ps\-\_\-lattice\-\_\-n\-\_\-frames (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a60b5a6a96a68e9b778dbef2156d859c8}


Get the number of frames in the lattice. 


\begin{DoxyParams}{Parameters}
{\em dag} & The lattice in question. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of frames in this lattice. 
\end{DoxyReturn}


Definition at line 656 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::n\-\_\-frames.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-posterior@{ps\-\_\-lattice\-\_\-posterior}}
\index{ps\-\_\-lattice\-\_\-posterior@{ps\-\_\-lattice\-\_\-posterior}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-posterior}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-lattice\-\_\-posterior (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{ngram\-\_\-model\-\_\-t $\ast$}]{lmset, }
\item[{float32}]{ascale}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_aafee8a8325301db72711a3680bc385c6}


Calculate link posterior probabilities on a word graph. 

This function assumes that bestpath search has already been done.

\begin{DoxyReturn}{Returns}
Posterior probability of the utterance as a whole. 
\end{DoxyReturn}


Definition at line 1408 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::ascr, ps\-\_\-latnode\-\_\-s\-::basewid, ps\-\_\-latlink\-\_\-s\-::beta, B\-E\-T\-T\-E\-R\-\_\-\-T\-H\-A\-N, dict\-\_\-filler\-\_\-word(), ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-lattice\-\_\-s\-::final\-\_\-node\-\_\-ascr, ps\-\_\-latlink\-\_\-s\-::from, ps\-\_\-lattice\-\_\-s\-::lmath, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-s\-::norm, ps\-\_\-latlink\-\_\-s\-::path\-\_\-scr, ps\-\_\-lattice\-\_\-reverse\-\_\-edges(), ps\-\_\-lattice\-\_\-reverse\-\_\-next(), ps\-\_\-lattice\-\_\-s\-::search, S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T, ps\-\_\-lattice\-\_\-s\-::start, and ps\-\_\-latlink\-\_\-s\-::to.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-posterior\-\_\-prune@{ps\-\_\-lattice\-\_\-posterior\-\_\-prune}}
\index{ps\-\_\-lattice\-\_\-posterior\-\_\-prune@{ps\-\_\-lattice\-\_\-posterior\-\_\-prune}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-posterior\-\_\-prune}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-lattice\-\_\-posterior\-\_\-prune (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{int32}]{beam}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a54c24dc8436c39d0ccc044f7b0ef8f3a}


Prune all links (and associated nodes) below a certain posterior probability. 

This function assumes that \doxyref{ps\-\_\-lattice\-\_\-posterior()}{p.}{ps__lattice_8h_a8c5c6ef260ab006099ab34d09b5b1d06} has already been called.


\begin{DoxyParams}{Parameters}
{\em beam} & Minimum posterior probability for links. This is expressed in the log-\/base used in the decoder. To convert from linear floating-\/point, use logmath\-\_\-log(ps\-\_\-lattice\-\_\-get\-\_\-logmath(), prob). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of arcs removed. 
\end{DoxyReturn}


Definition at line 1477 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::alpha, ps\-\_\-latlink\-\_\-s\-::beta, ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::entries, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latlink\-\_\-s\-::from, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-list\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::norm, ps\-\_\-lattice\-\_\-delete\-\_\-unreachable(), ps\-\_\-lattice\-\_\-traverse\-\_\-edges(), ps\-\_\-lattice\-\_\-traverse\-\_\-next(), ps\-\_\-latnode\-\_\-s\-::reachable, ps\-\_\-lattice\-\_\-s\-::start, and ps\-\_\-latlink\-\_\-s\-::to.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-read@{ps\-\_\-lattice\-\_\-read}}
\index{ps\-\_\-lattice\-\_\-read@{ps\-\_\-lattice\-\_\-read}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-lattice\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-read (
\begin{DoxyParamCaption}
\item[{struct {\bf ps\-\_\-decoder\-\_\-s} $\ast$}]{ps, }
\item[{char const $\ast$}]{file}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_aaf4a101f324943c7635746ec6ba7ab06}


Read a lattice from a file on disk. 


\begin{DoxyParams}{Parameters}
{\em ps} & Decoder to use for processing this lattice, or N\-U\-L\-L. \\
\hline
{\em file} & Path to lattice file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Newly created lattice, or N\-U\-L\-L for failure. 
\end{DoxyReturn}


Definition at line 410 of file ps\-\_\-lattice.\-c.



References B\-A\-D\-\_\-\-S3\-W\-I\-D, ps\-\_\-latnode\-\_\-s\-::basewid, ps\-\_\-search\-\_\-s\-::config, ps\-\_\-decoder\-\_\-s\-::config, ps\-\_\-lattice\-\_\-s\-::dict, ps\-\_\-decoder\-\_\-s\-::dict, dict\-\_\-add\-\_\-word(), dict\-\_\-filler\-\_\-word(), dict\-\_\-init(), dict\-\_\-retain(), dict\-\_\-word2basestr(), dict\-\_\-wordid(), ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::entries, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latnode\-\_\-s\-::fef, ps\-\_\-lattice\-\_\-s\-::frate, ps\-\_\-latnode\-\_\-s\-::id, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::latlink\-\_\-list\-\_\-alloc, ps\-\_\-lattice\-\_\-s\-::latnode\-\_\-alloc, ps\-\_\-latnode\-\_\-s\-::lef, ps\-\_\-lattice\-\_\-s\-::lmath, ps\-\_\-decoder\-\_\-s\-::lmath, ps\-\_\-lattice\-\_\-s\-::n\-\_\-frames, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-bypass\-\_\-fillers(), ps\-\_\-lattice\-\_\-delete\-\_\-unreachable(), ps\-\_\-lattice\-\_\-link(), ps\-\_\-latnode\-\_\-s\-::reachable, ps\-\_\-lattice\-\_\-s\-::refcount, ps\-\_\-lattice\-\_\-s\-::search, ps\-\_\-decoder\-\_\-s\-::search, ps\-\_\-latnode\-\_\-s\-::sf, ps\-\_\-lattice\-\_\-s\-::silence, ps\-\_\-lattice\-\_\-s\-::start, ps\-\_\-latnode\-\_\-s\-::wid, W\-O\-R\-S\-E\-\_\-\-T\-H\-A\-N, and W\-O\-R\-S\-T\-\_\-\-S\-C\-O\-R\-E.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-retain@{ps\-\_\-lattice\-\_\-retain}}
\index{ps\-\_\-lattice\-\_\-retain@{ps\-\_\-lattice\-\_\-retain}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-retain}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-lattice\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-retain (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_af8a33c587f5b7a6f5b8c86e6068dc297}


Retain a lattice. 

This function retains ownership of a lattice for the caller, preventing it from being freed automatically. You must call \doxyref{ps\-\_\-lattice\-\_\-free()}{p.}{ps__lattice_8h_a3f90e846bde47cd1acdff165b92f5c22} to free it after having called this function.

\begin{DoxyReturn}{Returns}
pointer to the retained lattice. 
\end{DoxyReturn}


Definition at line 681 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::refcount.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-reverse\-\_\-edges@{ps\-\_\-lattice\-\_\-reverse\-\_\-edges}}
\index{ps\-\_\-lattice\-\_\-reverse\-\_\-edges@{ps\-\_\-lattice\-\_\-reverse\-\_\-edges}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-reverse\-\_\-edges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-reverse\-\_\-edges (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{start, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{end}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a33e1a31ff250c7e7d555e179e2693f5d}


Start a reverse traversal of edges in a word graph. 

\begin{DoxyNote}{Note}
See \doxyref{ps\-\_\-lattice\-\_\-traverse\-\_\-edges()}{p.}{ps__lattice_8h_a997fce2eb1eaf316d463ddfb3d8395b8} for why this A\-P\-I is the way it is.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to be traversed. \\
\hline
{\em start} & Start node (goal) of traversal. \\
\hline
{\em end} & End node (source) of traversal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
First link in traversal. 
\end{DoxyReturn}


Definition at line 1171 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::entries, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latnode\-\_\-s\-::fanin, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-delq(), ps\-\_\-lattice\-\_\-pushq(), and ps\-\_\-lattice\-\_\-reverse\-\_\-next().



Referenced by ps\-\_\-lattice\-\_\-posterior().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-reverse\-\_\-next@{ps\-\_\-lattice\-\_\-reverse\-\_\-next}}
\index{ps\-\_\-lattice\-\_\-reverse\-\_\-next@{ps\-\_\-lattice\-\_\-reverse\-\_\-next}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-reverse\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-reverse\-\_\-next (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{start}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a7a6e0cb0510310b13fd4286cf8f48792}


Get the next link in reverse traversal. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to be traversed. \\
\hline
{\em start} & Start node (goal) of traversal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Next link in traversal. 
\end{DoxyReturn}


Definition at line 1196 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::entries, ps\-\_\-latnode\-\_\-s\-::fanin, ps\-\_\-latlink\-\_\-s\-::from, ps\-\_\-lattice\-\_\-delq(), ps\-\_\-lattice\-\_\-popq(), ps\-\_\-lattice\-\_\-pushq(), and ps\-\_\-lattice\-\_\-s\-::start.



Referenced by ps\-\_\-lattice\-\_\-posterior(), and ps\-\_\-lattice\-\_\-reverse\-\_\-edges().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-traverse\-\_\-edges@{ps\-\_\-lattice\-\_\-traverse\-\_\-edges}}
\index{ps\-\_\-lattice\-\_\-traverse\-\_\-edges@{ps\-\_\-lattice\-\_\-traverse\-\_\-edges}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-traverse\-\_\-edges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-traverse\-\_\-edges (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{start, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{end}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a3bd22d7b0561c81f874c115a200e84b9}


Start a forward traversal of edges in a word graph. 

\begin{DoxyNote}{Note}
A keen eye will notice an inconsistency in this A\-P\-I versus other types of iterators in Pocket\-Sphinx. The reason for this is that the traversal algorithm is much more efficient when it is able to modify the lattice structure. Therefore, to avoid giving the impression that multiple traversals are possible at once, no separate iterator structure is provided.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to be traversed. \\
\hline
{\em start} & Start node (source) of traversal. \\
\hline
{\em end} & End node (goal) of traversal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
First link in traversal. 
\end{DoxyReturn}


Definition at line 1114 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latnode\-\_\-s\-::fanin, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-delq(), ps\-\_\-lattice\-\_\-pushq(), ps\-\_\-lattice\-\_\-traverse\-\_\-next(), ps\-\_\-lattice\-\_\-s\-::start, and ps\-\_\-latlink\-\_\-s\-::to.



Referenced by ps\-\_\-lattice\-\_\-bestpath(), and ps\-\_\-lattice\-\_\-posterior\-\_\-prune().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-traverse\-\_\-next@{ps\-\_\-lattice\-\_\-traverse\-\_\-next}}
\index{ps\-\_\-lattice\-\_\-traverse\-\_\-next@{ps\-\_\-lattice\-\_\-traverse\-\_\-next}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-traverse\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ps\-\_\-latlink\-\_\-t}$\ast$ ps\-\_\-lattice\-\_\-traverse\-\_\-next (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{{\bf ps\-\_\-latnode\-\_\-t} $\ast$}]{end}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a8ab5c5bbbcf02a087a81232476dbd2a3}


Get the next link in forward traversal. 


\begin{DoxyParams}{Parameters}
{\em dag} & Lattice to be traversed. \\
\hline
{\em end} & End node (goal) of traversal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Next link in traversal. 
\end{DoxyReturn}


Definition at line 1140 of file ps\-\_\-lattice.\-c.



References ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latnode\-\_\-s\-::fanin, ps\-\_\-lattice\-\_\-delq(), ps\-\_\-lattice\-\_\-popq(), ps\-\_\-lattice\-\_\-pushq(), and ps\-\_\-latlink\-\_\-s\-::to.



Referenced by ps\-\_\-lattice\-\_\-bestpath(), ps\-\_\-lattice\-\_\-posterior\-\_\-prune(), and ps\-\_\-lattice\-\_\-traverse\-\_\-edges().

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-write@{ps\-\_\-lattice\-\_\-write}}
\index{ps\-\_\-lattice\-\_\-write@{ps\-\_\-lattice\-\_\-write}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-lattice\-\_\-write (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{char const $\ast$}]{filename}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a520b99eff2c1dba89927f0f3d258b8aa}


Write a lattice to disk. 

\begin{DoxyReturn}{Returns}
0 for success, $<$0 on failure. 
\end{DoxyReturn}


Definition at line 233 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::ascr, B\-E\-T\-T\-E\-R\-\_\-\-T\-H\-A\-N, ps\-\_\-lattice\-\_\-s\-::dict, ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-latnode\-\_\-s\-::fef, ps\-\_\-latnode\-\_\-s\-::id, ps\-\_\-latnode\-\_\-s\-::lef, ps\-\_\-lattice\-\_\-s\-::lmath, ps\-\_\-lattice\-\_\-s\-::n\-\_\-frames, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-latnode\-\_\-s\-::node\-\_\-id, ps\-\_\-lattice\-\_\-s\-::nodes, S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T, ps\-\_\-latnode\-\_\-s\-::sf, ps\-\_\-lattice\-\_\-s\-::start, ps\-\_\-latlink\-\_\-s\-::to, ps\-\_\-latnode\-\_\-s\-::wid, W\-O\-R\-S\-E\-\_\-\-T\-H\-A\-N, and W\-O\-R\-S\-T\-\_\-\-S\-C\-O\-R\-E.

\index{ps\-\_\-lattice.\-c@{ps\-\_\-lattice.\-c}!ps\-\_\-lattice\-\_\-write\-\_\-htk@{ps\-\_\-lattice\-\_\-write\-\_\-htk}}
\index{ps\-\_\-lattice\-\_\-write\-\_\-htk@{ps\-\_\-lattice\-\_\-write\-\_\-htk}!ps_lattice.c@{ps\-\_\-lattice.\-c}}
\subsubsection[{ps\-\_\-lattice\-\_\-write\-\_\-htk}]{\setlength{\rightskip}{0pt plus 5cm}int32 ps\-\_\-lattice\-\_\-write\-\_\-htk (
\begin{DoxyParamCaption}
\item[{{\bf ps\-\_\-lattice\-\_\-t} $\ast$}]{dag, }
\item[{char const $\ast$}]{filename}
\end{DoxyParamCaption}
)}\label{ps__lattice_8c_a1ac6d846fbecfcaba6094d84e93655f7}


Write a lattice to disk in H\-T\-K format. 

\begin{DoxyReturn}{Returns}
0 for success, $<$0 on failure. 
\end{DoxyReturn}


Definition at line 293 of file ps\-\_\-lattice.\-c.



References ps\-\_\-latlink\-\_\-s\-::alpha, ps\-\_\-latlink\-\_\-s\-::ascr, ps\-\_\-latlink\-\_\-s\-::beta, B\-E\-T\-T\-E\-R\-\_\-\-T\-H\-A\-N, ps\-\_\-lattice\-\_\-s\-::dict, dict\-\_\-filler\-\_\-word(), ps\-\_\-lattice\-\_\-s\-::end, ps\-\_\-latnode\-\_\-s\-::exits, ps\-\_\-lattice\-\_\-s\-::frate, ps\-\_\-latnode\-\_\-s\-::id, ps\-\_\-lattice\-\_\-s\-::lmath, ps\-\_\-latnode\-\_\-s\-::next, ps\-\_\-lattice\-\_\-s\-::nodes, ps\-\_\-lattice\-\_\-s\-::norm, ps\-\_\-latnode\-\_\-s\-::reachable, S\-E\-N\-S\-C\-R\-\_\-\-S\-H\-I\-F\-T, ps\-\_\-latnode\-\_\-s\-::sf, ps\-\_\-lattice\-\_\-s\-::start, ps\-\_\-latlink\-\_\-s\-::to, ps\-\_\-latnode\-\_\-s\-::wid, W\-O\-R\-S\-E\-\_\-\-T\-H\-A\-N, and W\-O\-R\-S\-T\-\_\-\-S\-C\-O\-R\-E.

